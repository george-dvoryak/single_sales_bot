# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –≤–µ–±—Ö—É–∫–æ–≤ Prodamus

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –≤–µ–±—Ö—É–∫–∞ —á–µ—Ä–µ–∑ webhook.site

### –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ URL –≤ .env —Ñ–∞–π–ª

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä–æ–∫—É –≤ –≤–∞—à `.env` —Ñ–∞–π–ª:

```env
PRODAMUS_TEST_WEBHOOK_URL=https://webhook.site/fbb902fc-f9df-424d-996f-1eb64f15714d
```

–≠—Ç–æ—Ç URL –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è - –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤–µ–±—Ö—É–∫–æ–≤ –±—É–¥—É—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ webhook.site –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ –∞–¥–º–∏–Ω–∫–µ Prodamus

#### 2.1 –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É: `https://testwork1.payform.ru/?old_auth=1`
2. –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ—Ä—ã–π –∑–∞–º–æ—á–µ–∫ üîí
3. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:
   - **–õ–æ–≥–∏–Ω:** `tester@prodamus.ru`
   - **–ü–∞—Ä–æ–ª—å:** `aNWQhbWJ46EH`

#### 2.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥—Ä–µ—Å–æ–≤ (Success/Fail URLs)

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞—Ç–µ–∂–Ω–æ–π —Ñ–æ—Ä–º—ã –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–¥—Ä–µ—Å–æ–≤"** –∏–ª–∏ **"URL –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞"**
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ URL:

   **Success URL (URL —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã):**
   ```
   https://webhook.site/fbb902fc-f9df-424d-996f-1eb64f15714d?type=success
   ```
   
   **Fail URL (URL –Ω–µ—É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã):**
   ```
   https://webhook.site/fbb902fc-f9df-424d-996f-1eb64f15714d?type=fail
   ```

   **–í–∞–∂–Ω–æ:** –≠—Ç–∏ URL –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã. Prodamus –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ GET –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.

3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

#### 2.3 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (Result URL)

1. –í —Ä–∞–∑–¥–µ–ª–µ **"–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"** –∏–ª–∏ **"URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"** –Ω–∞–π–¥–∏—Ç–µ –ø–æ–ª–µ **"URL –∞–¥—Ä–µ—Å–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π"**
2. –î–æ–±–∞–≤—å—Ç–µ URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –ø–ª–∞—Ç–µ–∂–∞—Ö:

   **Result URL (URL –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å—Ç–∞—Ç—É—Å–µ –ø–ª–∞—Ç–µ–∂–∞):**
   ```
   https://webhook.site/fbb902fc-f9df-424d-996f-1eb64f15714d?type=result
   ```

   **–í–∞–∂–Ω–æ:** 
   - –≠—Ç–æ—Ç URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Prodamus –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ —Å—Ç–∞—Ç—É—Å–µ –ø–ª–∞—Ç–µ–∂–∞
   - Prodamus –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ POST –∏–ª–∏ GET –∑–∞–ø—Ä–æ—Å—ã
   - –≠—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π URL –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π - –∏–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å –±–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ

3. –ù–∞–∂–º–∏—Ç–µ **"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"**

#### 2.4 –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞

1. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á"** –∏–ª–∏ **"–ö–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏"**
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á —É–∫–∞–∑–∞–Ω –≤ `.env` —Ñ–∞–π–ª–µ:
   ```env
   PRODAMUS_SECRET_KEY=1af49e71d4e9842984e29e0488ba71705486054a8aa2a56b782e73667e2d14c7
   ```

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞** —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º `.env` —Ñ–∞–π–ª–æ–º
2. **–°–¥–µ–ª–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂** —á–µ—Ä–µ–∑ –±–æ—Ç–∞:
   - –û—Ç–∫—Ä–æ–π—Ç–µ –∫–∞—Ä—Ç–æ—á–∫—É –∫—É—Ä—Å–∞
   - –ù–∞–∂–º–∏—Ç–µ "–ö—É–ø–∏—Ç—å (Prodamus)"
   - –í–≤–µ–¥–∏—Ç–µ email (–µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å–∏—Ç)
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ –æ–ø–ª–∞—Ç—É
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –æ–ø–ª–∞—Ç–∏—Ç–µ

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook.site**:
   - –û—Ç–∫—Ä–æ–π—Ç–µ `https://webhook.site/#!/fbb902fc-f9df-424d-996f-1eb64f15714d`
   - –í—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –æ—Ç Prodamus:
     - **Result URL** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Å—Ç–∞—Ç—É—Å–µ –ø–ª–∞—Ç–µ–∂–∞ (—Å–∞–º–æ–µ –≤–∞–∂–Ω–æ–µ!)
     - **Success URL** - —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã
     - **Fail URL** - —Ä–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ –Ω–µ—É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞**:
   - –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤–∏–¥–∞:
     ```
     [Prodamus Result] Received notification: {...}
     [Prodamus Test] Forwarded result data to test webhook
     [Prodamus Result] Successfully processed payment for order ...
     ```

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤ webhook.site

#### Result URL (—Å–∞–º—ã–π –≤–∞–∂–Ω—ã–π!)
–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –ø–ª–∞—Ç–µ–∂–µ:
- `order` –∏–ª–∏ `order_id` - –Ω–æ–º–µ—Ä –∑–∞–∫–∞–∑–∞
- `sum` –∏–ª–∏ `amount` - —Å—É–º–º–∞ –ø–ª–∞—Ç–µ–∂–∞
- `status` - —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞ (`success`, `paid`, `successful` –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö)
- `signature` - –ø–æ–¥–ø–∏—Å—å –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–∞)

#### Success URL
–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–µ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã (–æ–±—ã—á–Ω–æ —Ç–µ –∂–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —á—Ç–æ –∏ Result URL)

#### Fail URL
–î–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–µ –ø–æ—Å–ª–µ –Ω–µ—É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã

### –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç Prodamus

Prodamus –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:

**GET –∑–∞–ø—Ä–æ—Å:**
```
https://webhook.site/...?order=PROD-123&sum=100.00&status=success&signature=abc123
```

**POST –∑–∞–ø—Ä–æ—Å (form-data):**
```
order=PROD-123
sum=100.00
status=success
signature=abc123
```

**POST –∑–∞–ø—Ä–æ—Å (JSON):**
```json
{
  "order": "PROD-123",
  "sum": "100.00",
  "status": "success",
  "signature": "abc123"
}
```

–ë–æ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —ç—Ç–∏ —Ñ–æ—Ä–º–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

#### –í–µ–±—Ö—É–∫–∏ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ webhook.site
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω –≤ –∞–¥–º–∏–Ω–∫–µ Prodamus
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∞–¥–º–∏–Ω–∫–µ Prodamus

#### –ë–æ—Ç –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–ª–∞—Ç–µ–∂–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `PRODAMUS_SECRET_KEY` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ `order_id` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `order` –∏–∑ –≤–µ–±—Ö—É–∫–∞

#### –ü–æ–¥–ø–∏—Å—å –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –∞–¥–º–∏–Ω–∫–µ Prodamus –≤–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–ö–æ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ, –º–æ–∂–Ω–æ:
1. –£–±—Ä–∞—Ç—å `PRODAMUS_TEST_WEBHOOK_URL` –∏–∑ `.env` (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ URL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
   - Success URL: `https://yourdomain.com/prodamus/success`
   - Fail URL: `https://yourdomain.com/prodamus/fail`
   - Result URL: `https://yourdomain.com/prodamus/result`

